
  <div class="accordion-item">
    <div class="accordion-header" id="heading-source-to-target">
      <button class="lead accordion-button open" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-source-to-target" aria-expanded="false" aria-controls="collapse-source-to-target">
        Source to Target
      </button>
    </div>
    <div class="accordion-collapse collapse show" id="collapse-source-to-target" aria-labelledby="heading-source-to-target" >
      <div class="row g-3 py-3">
        <table class="table table-hover table-striped">
          <thead>
            <tr>
              <th scope="col">Target Column</th>
              <th scope="col">Source Column</th>
              <th scope="col">Transformation</th>
              <th scope="col"></th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            {% for field in fields %}
              <tr class="align-middle" id="id_field_{{field.id}}_row">
                <td>{% if field.is_primary_key %}<i class="bi bi-key"></i> {% endif %}{% if field.is_history_key %}<i class="bi bi-clock-history"></i> {% endif %}{{ field.name}} </td>
                <td>{% if field.source_name != "" and field.source_name != None %}<span>{{ field.source_name }}.</span><strong>{{ field.source_column }}</strong>{% else %}{{ field.source_column }}{% endif %}</td>
                <td>{{ field.transformation }}</td>
                <td class="btn-column"><a class="btn btn-secondary" href="{% url 'job-task-field' job_id=job.id task_id=task.id pk=field.id %}" title="View" aria-current="page" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-search"></i></a></td>
                <td class="btn-column"><button class="btn btn-danger field-delete" type="button" title="Delete" aria-current="page" data-bs-toggle="tooltip" data-bs-placement="right" data-delete-url="{% url 'api-field-delete' pk=field.id %}" data-delete-element-id="id_field_{{field.id}}_row"><i class="bi bi-trash3"></i></button></td>
              </tr>
            {% endfor %}
            {% if fields|length == 0 %}
              <tr><td class="text-center" colspan="5">No fields linked to task!</td></tr>
            {% endif %}
          </tbody>
        </table>
        <div class="col-md-4 col-lg-3">
          <a class="btn btn-primary" type="button" href="{% url 'job-task-field-add' job_id=job.id task_id=task.id %}" title=""><i class="bi bi-plus"></i> Add Column</a> 
        </div>
      </div>
    </div>
  </div>  
  <script>
    let fieldDeleteButtonList = document.getElementsByClassName("field-delete");
    for (var i = 0; i < fieldDeleteButtonList.length; i++) {
      let btn = fieldDeleteButtonList[i];
      btn.addEventListener("click", function() {
        deleteModelObject(this.dataset["deleteUrl"], this.dataset["deleteElementId"]);
      })
    }
  </script>