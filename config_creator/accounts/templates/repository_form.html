{% extends "account_base.html" %}
{% block title %}Connection{% endblock %}

{% block profile %}    
<div class="py-5 text-center">
  <h2>User Connections</h2>
  {% if form.id.value == "" %}
    <p class="lead">Add a new repository.</p>
  {% else %}
    <p class="lead">Change a repository.</p>
  {% endif %}
</div>
<form action="{% url 'repository-change' %}" method="POST">
  {% csrf_token %}
  <div class="row g-5">
    <div class="col-md-7 col-lg-8">
      <div class="row g-3">
        <input hidden value="{{form.id.value}}" name="id" id="id_id">
        <div class="col-12">
          <div class="form-floating">
            <input class="form-control" type="text" name="name" maxlength="250" required="" id="id_name" 
            {% if form.name.value == None %} value="" {% else %} value="{{form.name.value}} {% endif %}">
            <label for="id_name">Repository Name</label>
          </div>
        </div>

        <div class="col-12">
          <div class="form-floating">
            <input class="form-control" type="text" name="url" maxlength="250" id="id_url" 
            {% if form.url.value == None %} value="" {% else %} value="{{form.url.value}} {% endif %}">
            <label for="id_url">Repository URL</label>
          </div>
        </div>

      </div>
    </div>
    <div class="col-md-5 col-lg-4">
      
      <div class="col-12">
        <div class="row g-3">
          <button class="w-100 btn btn-lg btn-primary" type="submit">Save</button>
        </div>
        <div class="row g-3 py-3">
          <a href="{% url 'repositories' %}" class="w-100 btn btn-lg btn-secondary">Cancel</a>
        </div>
      </div>
    </div>
  </div>  
</form>
    
{% endblock %}